<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Hoje é dia de Maldade</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Language" content="pt-br">
    <meta name="google-site-verification" content="gBgQVpCgr9ccXMhoTzKrNJPcexBHd5_kJWQouZOWa2M" />

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Gloria+Hallelujah' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">

    <!-- Twitter Card data -->
    <!--<meta name="twitter:card" content="summary">-->
    <!--<meta name="twitter:site" content="@publisher_handle">-->
    <!--<meta name="twitter:title" content="Page Title">-->
    <!--<meta name="twitter:description" content="Page description less than 200 characters">-->
    <!--<meta name="twitter:creator" content="@author_handle">-->
    <!--&lt;!&ndash; Twitter Summary card images must be at least 120x120px &ndash;&gt;-->
    <!--<meta name="twitter:image" content="http://www.example.com/image.jpg">-->

    <!-- Open Graph data -->
    <meta property="og:title" content="Hoje é dia de maldade!" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://www.hojeediademaldade.com.br/{{data.title}}" />
    <meta property="og:image" content="https://venancios.files.wordpress.com/2013/04/gordo.jpg" />
    <meta property="og:description" content="Hoje é dia de maldade, hoje é dia de {{data.title}}" />
    <meta property="og:site_name" content="Hoje é dia de maldade!" />

    <style>

        html {
            /*background: -webkit-linear-gradient(to bottom, #303030 , #101010); 
            background: linear-gradient(to bottom, #303030 , #101010); */
            background: #FAFAFA;

            height: 100%;
            border-top: 20px solid #0277bd;

            -webkit-box-shadow: inset 0px 6px 10px 0px rgba(0,0,0,0.25);
            -moz-box-shadow: inset 0px 6px 10px 0px rgba(0,0,0,0.25);
            box-shadow: inset 0px 6px 10px 0px rgba(0,0,0,0.25);
        }
        body {
            background: none;
            color: rgba(0, 0, 0, 0.87);
            /*color: #CFD8DC;*/
            font-family: 'Open Sans', Helvetica Neue, sans-serif;

        }
        .container {
            margin-top: 5%;
        }
        h1 {
            font-family: 'Gloria Hallelujah', cursive;
            font-weight: 100;
            font-size: 80px;
            text-transform: uppercase;


        }
        h3 {
            font-weight: 100;
            font-size: 50px;
            display: inline;
            /*text-transform: uppercase;*/
        }
        h5 {
            font-size: 18px;
        }
        .maldade {
            font-weight: 800;
            font-size: 50px;
        }
        h5 .maldade {
            font-size: 18px;
            color: #0277bd;
        }
        .highlight {
            font-weight: 600;
            color: #F44336;
        }
        .footer {
            text-align: right;
        }

        .fa {
            font-size: 20px;
            color: #FFF;
        }
        .fa:hover {
            color: #FFFFFF;
        }
        .main {
            text-align: center;
            margin-bottom: 50px;
        }
        .actions {
            text-align: center;
            margin-top: 25px;
        }

        .btn-primary {
            background-color: #F44336;
            border-color: #F44336;
        }
        .btn-primary:hover, .btn-primary:active, .btn-primary:focus, .btn-primary:active:hover {
            background-color: #B71C1C;
            border-color: #B71C1C;
        }

        .btn {
            box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);
            border: none;
            border-radius: 2px;
            line-height: 54px;
            padding: 0 2rem;
            text-transform: uppercase;
            transition: all .3s ease-out;
            margin-right: 8px;
        }


        .card {
            position: relative;
            margin: 0.5rem 0 1rem 0;
            background-color: #FFFFFF;
            transition: box-shadow .25s;
            border-radius: 2px;
        }
        .card-stats {
            background: #C62828;
            color: #FFFFFF;
        }
        .card-content {
                padding: 20px 0;
                border-radius: 0 0 2px 2px;
        }
        .card-footer {
            border-top: 1px solid rgba(160,160,160,0.2);
            padding: 20px 0;
        } 
        .card-footer .fa {
            color: #0277bd;
        }
        .card-content h4 {
            font-size: 52px;
            font-weight: 600;
            text-align: center;
            margin: 0;
        }
        .card-stats h5 {
            text-align: center;
            margin-top: 15px;
            font-size: 16px;
        }
        .card-share {
            background: #0277bd;
        }
        .card-share .fa{
            font-size: 80px;
        }

        .z-depth-1 {
            box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)
        }
        .z-depth-2 {
            box-shadow: 0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)  ;
        }

        a {
            text-transform: uppercase;
            color: #0277bd;
            padding: 0 8px;
            font-size: 16px;
            font-weight: 600;
            /*display: block;*/
        }
        a:hover, a:active, a:visited {
            text-decoration: none;
            color: #0277bd;   
        }


        /** EFFECTS **/
        #sumOfAllEvil, #evilsDone {
            -webkit-transition: opacity .5s ease-in-out;
            -moz-transition: opacity .5s ease-in-out;
            -ms-transition: opacity .5s ease-in-out;
            -o-transition: opacity .5s ease-in-out;
            transition: opacity .5s ease-in-out;
        }


        @media (max-width: 768px) {
            a {
                font-size: 22px;
                padding: 8px;
            }
            a .fa {
                font-size: 26px;
            }
            a .glyphicon {
                font-size: 22px;   
            }
            .evil-holder {
                border-top: 1px solid #F44336;
                padding-top: 15px;
            }
            .main {
                margin-bottom: 15px;
            }
            h1 {
                font-size: 46px;
                margin: 0;
            }
            h3 {
                font-size: 35px;
                margin-bottom: 0;
                display: block;
            }
            .maldade {
                font-size: 35px;
            }
            h4 {
                margin-top: 30px;
            }
            .actions {
                margin-top: 20px;
            }
            #maldade-img {
                margin-top: 10px;
            }
            .btn {
                margin-top: 7px;
            }
        }

    </style>

</head>

<body>


<div class="container">

    <div class="row main">
        <div class="col-md-12">
            <h1>Hoje é dia de <span class="highlight">maldade!</span></h1>
            <!--<h4>{{online}} maldoso online</h4>-->
        </div>
    </div>

    <div class="row">

        <div class="col-md-4 col-xs-6 col-sm-6">
            <div class="card z-depth-1 card-stats">
                <div class="card-content">
                    <h4>{{ totalEvil }}</h4>
                    <h5>maldades</h5>
                </div>
            </div>
        </div>
         <div class="col-md-4 col-xs-6 col-sm-6">
            <div class="card z-depth-1 card-stats">
                <div class="card-content">
                    <h4>132</h4>
                    <h5>compartilhadas</h5>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 col-xs-12 col-sm-12">
            <div class="card z-depth-1 card-stats">
                <div class="card-content">
                    <h4 id="evilsDone">{{ evilsDone}}</h4>
                    <h5>maldades feitas</h5>
                </div>
            </div>
        </div>
    </div>

    <div class="row evil-holder card z-depth-1">
        <div class="col-md-12">
            <div class="card-content">
                <div class="col-md-8">
                    <h5><span id="sumOfAllEvil" class="maldade">{{ data.count }}</span> maldosos já fizeram essa maldade!</h5>
                    <h3>Hoje é dia de </h3><span class="maldade">{{ data.title }}</span>
                    &nbsp;
                </div>
                <div class="col-md-4">
                     <a href="#">
                      <img id="maldade-img" src="{{ data.img }}" alt="Smiley face" width="100%" height="100%">
                    </a>
                </div>&nbsp;
            </div>

            <div class="card-footer hidden-sm hidden-xs">
                <a href="#" onclick="doEvil('{{ data.friendly_url}}');" >Fazer maldade</a>
                <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.hojeediademaldade.com.br%2F{{ data.friendly_url }}">compartilhar</a>
            </div>  
            <div class="card-footer hidden-md hidden-lg">
                <a href="#" onclick="doEvil('{{ data.friendly_url}}');" ><span class="glyphicon glyphicon-fire" aria-hidden="true"></span></a>
                <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.hojeediademaldade.com.br%2F{{ data.friendly_url }}"><i class="fa fa-facebook-square" aria-hidden="true"></i></a>
            </div>  
        </div>
    </div>

    <div class="row actions">
        
        <div class="col-md-12">
            <a href="/{{newEvil.friendly_url}}">
                <button type="button" class="btn btn-primary btn-lg" >Próxima maldade <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></button>
            </a>
        </div>
    </div>

    <div class="row footer" style="display: none;">
        <div class="col-md-12">
            <a href="https://github.com/matheusmessora/hojeediademaldade" target="_blank">
                <i class="fa fa-github" aria-hidden="true"></i>
            </a>
        </div>
    </div>


</div> <!-- /container -->


<script>

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47755345-6', 'auto');
    ga('send', 'pageview');

    var sumOfAllEvil = {{data.count}};
    var totalEvil = {{totalEvil}};




    function doEvil(friendlyUrl){
        console.log("POST " + friendlyUrl);

        var xhttp = new XMLHttpRequest();
        xhttp.open("POST", "/" + friendlyUrl, true);
        xhttp.send();

        sumOfAllEvil++;
        totalEvil++;

        var sumOfAllEvilDiv = document.getElementById("sumOfAllEvil");
        var evilsDoneDIv = document.getElementById("evilsDone");
        sumOfAllEvilDiv.style.opacity = 0;
        evilsDoneDIv.style.opacity = 0;

        setTimeout(function() {
            sumOfAllEvilDiv.innerHTML = sumOfAllEvil;
            sumOfAllEvilDiv.style.opacity = 1;

            evilsDoneDIv.innerHTML = totalEvil;
            evilsDoneDIv.style.opacity = 1;
        }, 500);
    }


</script>
<script>

</script>
</body>
</html>